plotArticlesByPagerank_DatePagerank
plotArticlesByPagerank_DatePagerank <- ggplot(
getArticlesByPagerank,
aes(x=as.factor(year(as.Date(date))),y=pagerank))+
geom_violin()+
xlab("date")+ylab("pagerank")+
# geom_smooth(method='lm')+
coord_cartesian(
xlim = as.Date(c('2005-01-01', '2019-01-01')),
ylim = c(0.15, 0.2)
)
plotArticlesByPagerank_DatePagerank
plotArticlesByPagerank_DatePagerank <- ggplot(
getArticlesByPagerank,
aes(x=as.factor(year(as.Date(date))),y=pagerank))+
geom_violin()+
xlab("date")+ylab("pagerank")+
# geom_smooth(method='lm')+
coord_cartesian(
# xlim = as.Date(c('2005-01-01', '2019-01-01')),
# ylim = c(0.15, 0.2)
)
plotArticlesByPagerank_DatePagerank
plotArticlesByPagerank_DatePagerank <- ggplot(
getArticlesByPagerank,
aes(x=as.factor(year(as.Date(date))),y=pagerank))+
geom_violin()+
xlab("date")+ylab("pagerank")+
# geom_smooth(method='lm')+
coord_cartesian(
xlim = c(2005, 2019),
ylim = c(0.15, 0.2)
)
plotArticlesByPagerank_DatePagerank
plotArticlesByPagerank_DatePagerank <- ggplot(
getArticlesByPagerank,
aes(x=as.factor(year(as.Date(date))),y=pagerank))+
geom_violin()+
xlab("date")+ylab("pagerank")+
# geom_smooth(method='lm')+
coord_cartesian(
xlim = as.Date(c('2005-01-01', '2019-01-01')),
ylim = c(0.15, 0.2)
)
plotArticlesByPagerank_DatePagerank
plotArticlesByPagerank_DatePagerank <- ggplot(
getArticlesByPagerank,
aes(x=as.factor(year(as.Date(date))),y=pagerank))+
geom_violin()+
xlab("date")+ylab("pagerank")+
# geom_smooth(method='lm')+
coord_cartesian(
xlim = year(c('2005-01-01', '2019-01-01')),
ylim = c(0.15, 0.2)
)
plotArticlesByPagerank_DatePagerank
plotArticlesByPagerank_DatePagerank <- ggplot(
getArticlesByPagerank,
aes(x=as.factor(year(as.Date(date))),y=pagerank))+
geom_violin()+
xlab("date")+ylab("pagerank")+
# geom_smooth(method='lm')+
coord_cartesian(
xlim = year(as.Date(c('2005-01-01', '2019-01-01'))),
ylim = c(0.15, 0.2)
)
plotArticlesByPagerank_DatePagerank
plotArticlesByPagerank_DatePagerank <- ggplot(
getArticlesByPagerank,
aes(x=as.factor(year(as.Date(date))),y=pagerank))+
geom_violin()+
xlab("date")+ylab("pagerank")+
# geom_smooth(method='lm')+
coord_cartesian(
xlim = as.factor(year(as.Date(c('2005-01-01', '2019-01-01')))),
ylim = c(0.15, 0.2)
)
plotArticlesByPagerank_DatePagerank
plotArticlesByPagerank_DatePagerank <- ggplot(
getArticlesByPagerank,
aes(x=as.factor(year(as.Date(date))),y=pagerank))+
geom_violin()+
xlab("date")+ylab("pagerank")+
# geom_smooth(method='lm')+
coord_cartesian(
#    xlim = as.factor(year(as.Date(c('2005-01-01', '2019-01-01')))),
ylim = c(0.15, 0.2)
)
plotArticlesByPagerank_DatePagerank
plotArticlesByPagerank_DatePagerank <- ggplot(
getArticlesByPagerank,
aes(x=as.factor(year(as.Date(date))),y=pagerank))+
geom_violin(na.rm = TRUE, scale = count)+
xlab("date")+ylab("pagerank")+
# geom_smooth(method='lm')+
coord_cartesian(
#    xlim = as.factor(year(as.Date(c('2005-01-01', '2019-01-01')))),
ylim = c(0.15, 0.2)
)
plotArticlesByPagerank_DatePagerank
plotArticlesByPagerank_DatePagerank <- ggplot(
getArticlesByPagerank,
aes(x=as.factor(year(as.Date(date))),y=pagerank))+
geom_violin(na.rm = TRUE, scale = "count")+
xlab("date")+ylab("pagerank")+
# geom_smooth(method='lm')+
coord_cartesian(
#    xlim = as.factor(year(as.Date(c('2005-01-01', '2019-01-01')))),
ylim = c(0.15, 0.2)
)
plotArticlesByPagerank_DatePagerank
plotArticlesByPagerank_DatePagerank <- ggplot(
getArticlesByPagerank,
aes(x=as.factor(year(as.Date(date))),y=pagerank))+
geom_violin(na.rm = TRUE, scale = "count")+
xlab("date")+ylab("pagerank")+
# geom_smooth(method='lm')+
coord_cartesian(
#    xlim = as.factor(year(as.Date(c('2005-01-01', '2019-01-01')))),
ylim = c(0.15, 0.175)
)
plotArticlesByPagerank_DatePagerank
plotArticlesByPagerank_DatePagerank <- ggplot(
getArticlesByPagerank,
aes(x=as.factor(year(as.Date(date))),y=pagerank))+
geom_violin(na.rm = TRUE, scale = "count")+
xlab("date")+ylab("pagerank")+
# geom_smooth(method='lm')+
coord_cartesian(
#    xlim = as.factor(year(as.Date(c('2005-01-01', '2019-01-01')))),
ylim = c(0.15, 0.175)
)
plotArticlesByPagerank_DatePagerank
source('~/Git/working-drafts/literature-review/src/main/R/present.R')
ggplot(topicAuthorCommunityXmap, aes(x=as.factor(topic), y=authorCommunity, fill=totalScore)) +
geom_tile(colour = "white") +
scale_fill_gradient(low = "white",high = "green") +
xlab("topic") + ylab("author community")
library(tidyverse)
library(reshape2)
library(cowplot)
library(lubridate)
library(huxtable)
ggplot(articleGroupAuthorCommunityXmap , aes(x=articleGroup, y=authorCommunity, fill=totalScore)) +
geom_tile(colour = "white") +
scale_fill_gradient(low = "white",high = "orange") +
xlab("topic") + ylab("author community")
ggplot(topicAuthorCommunityXmap, aes(x=as.factor(topic), y=authorCommunity, fill=totalScore)) +
geom_tile(colour = "white") +
scale_fill_gradient(low = "white",high = "green") +
xlab("topic") + ylab("author community")
ggplot(topicArticleGroupXmap, aes(x=as.factor(topic), y=articleGroup, fill=totalScore)) +
geom_tile(colour = "white") +
scale_fill_gradient(low = "white",high = "steelblue") +
xlab("topic") + ylab("article group")
?dbConnect
library(DBI)
library(odbc)
library(datasets)
library(dplyr)
library(reshape2)
?dbConnect
install.packages("RMySQL")
library(RMySQL)
library(DBI)
# install.packages("RMySQL")
# sudo apt-get install r-cran-rmysql
library(RMySQL)
library(datasets)
library(dplyr)
library(reshape2)
pwd <- readline(prompt="Enter DB pw: ");
con <- dbConnect(MySQL(),
host = "cook.ex.ac.uk",
dbname = "CPRDTest",
user = "rc538",
password = pwd,
port = 3306);
dbListTables(con);
med_code_sets <- dbReadTable(con, "MedCodeSets");
View(med_code_sets)
rs <- dbSendQuery(con, "SELECT * FROM Patient LIMIT 0,50")
patients <- fetch(rs, n=-1)
View(patients)
dbDisconnect(con)
library(DBI)
# install.packages("RMySQL")
# sudo apt-get install r-cran-rmysql
library(RMySQL)
library(datasets)
library(dplyr)
library(reshape2)
con <- dbConnect(MySQL(),
host = "cook.ex.ac.uk",
dbname = "CPRDTest",
user = "testuser",
password = "test123",
port = 3306);
dbListTables(con);
med_code_sets <- dbReadTable(con, "MedCodeSets");
View(med_code_sets)
rs <- dbSendQuery(con, "SELECT * FROM Patient LIMIT 0,50")
patients <- fetch(rs, n=-1)
View(patients)
dbDisconnect(con)
?isset
is.null(basesdfgsdf)
mpg
iris
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
ggplot(data=iris,aes(x=SepalWidthCm, y=SepalLengthCm)) + geom_point()
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
ggplot(data=iris,aes(x=Sepal.Width, y=Sepal.Length)) + geom_point()
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
ggplot(data=iris,aes(x=Sepal.Width, y=Sepal.Length)) + geom_point()
theme_set(themePhd(base_size=20))  # pre-set the bw theme.
ggplot(data=iris,aes(x=Sepal.Width, y=Sepal.Length)) + geom_point()
?theme_bw
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
source('~/Git/etl-analysis/r-packages/phdUtils/R/ggplotUtils.R')
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
theme_set(themePhd(base_size=20))  # pre-set the bw theme.
ggplot(data=iris,aes(x=Sepal.Width, y=Sepal.Length)) + geom_point()
install.packages("latex2exp")
devtools::install_github("thomasp85/patchwork")
?...
?...
?dotsMethods
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
source('~/Git/etl-analysis/r-packages/phdUtils/R/ggplotUtils.R')
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
library(tidyverse)
library(reshape2)
library(cowplot)
library(lubridate)
library(huxtable)
library(phdUtils)
# sudo apt-get install libcairo2-dev libmagick++-dev
# install.packages("tidyverse")
# install.packages("cowplot")
# install.packages("lubridate")
# install.packages("huxtable")
# install.packages("flextable")
files <- list.files(path = "~/Dropbox/litReview/output/", pattern = "*.tsv", all.files = TRUE)
files <- colsplit(files,"\\.",names=c("base","etn"))
theme_set(theme_cowplot(font_size=8))
# load variables based on content of directory
for (file in files$base) {
name <- paste0("~/Dropbox/litReview/output/",file,".tsv")
assign(file, read.delim(name, stringsAsFactors = FALSE, row.names=NULL))
}
plotArticlesByJournal_Count <- ggplot(getArticlesByJournal %>% top_n(10,totalPagerank)
%>% mutate(journal = ifelse(journal == "Journal of the American Medical Informatics Association","JAMIA",
journal)))+
geom_bar(aes(x=reorder(journal,-totalPagerank),y=articles, fill=journal), colour="black", stat="identity")+
xlab("journal")+ylab("articles")+scale_fill_brewer(palette = "Set3")+
theme(axis.text.x = element_text(angle = 90, hjust = 1))+
guides(fill=FALSE)
plotArticlesByJournal_Count
# plotArticlesByPagerank_Pagerank <- ggplot(getArticlesByPagerank)+
#   geom_density(aes(x=pagerank))+
#   xlab("page rank")
# plotArticlesByPagerank_Pagerank
plotArticlesByPagerank_Date <- ggplot(getArticlesByPagerank %>%
filter(!is.na(date)) %>%
group_by(month=floor_date(as.Date(date), "year")) %>%
summarize(amount=n()))+
geom_col(aes(x=month,y=amount),stat="identity")+
xlab("year")+ylab("articles")
plotArticlesByPagerank_Date
plotArticlesByPagerank_DateCitedBy <- ggplot(getArticlesByPagerank %>%
filter(citedByCount!="NULL") ,
aes(x=as.Date(date),y=as.numeric(citedByCount)))+
geom_point(size=1)+
geom_smooth(method='lm',formula=y~x)+
xlab("date")+ylab("count of citing articles")+scale_y_log10()+
coord_cartesian(xlim = as.Date(c('2005-01-01', '2019-01-01')))
plotArticlesByPagerank_DateCitedBy
figure1pg = plot_grid(plotArticlesByJournal_Count,
plot_grid(plotArticlesByPagerank_Date, plotArticlesByPagerank_DateCitedBy, labels=c("B","C"), ncol=1),
labels=c("A",NA), ncol=2)
figure1pg
saveThesisHalfPage("~/Dropbox/litReview/output/figure1", figure1pg)
saveThesisHalfPage("~/Dropbox/litReview/output/figure1", plot=figure1pg)
?file
normalizePath("~/Dropbox")
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
saveThesisHalfPage("~/Dropbox/litReview/output/figure1", figure1pg)
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
saveThesisHalfPage("~/Dropbox/litReview/output/figure1", figure1pg)
theme_set(themePhd())
plotArticlesByJournal_Count <- ggplot(getArticlesByJournal %>% top_n(10,totalPagerank)
%>% mutate(journal = ifelse(journal == "Journal of the American Medical Informatics Association","JAMIA",
journal)))+
geom_bar(aes(x=reorder(journal,-totalPagerank),y=articles, fill=journal), colour="black", stat="identity")+
xlab("journal")+ylab("articles")+scale_fill_brewer(palette = "Set3")+
theme(axis.text.x = element_text(angle = 90, hjust = 1))+
guides(fill=FALSE)
plotArticlesByJournal_Count
# plotArticlesByPagerank_Pagerank <- ggplot(getArticlesByPagerank)+
#   geom_density(aes(x=pagerank))+
#   xlab("page rank")
# plotArticlesByPagerank_Pagerank
plotArticlesByPagerank_Date <- ggplot(getArticlesByPagerank %>%
filter(!is.na(date)) %>%
group_by(month=floor_date(as.Date(date), "year")) %>%
summarize(amount=n()))+
geom_col(aes(x=month,y=amount),stat="identity")+
xlab("year")+ylab("articles")
plotArticlesByPagerank_Date
plotArticlesByPagerank_DateCitedBy <- ggplot(getArticlesByPagerank %>%
filter(citedByCount!="NULL") ,
aes(x=as.Date(date),y=as.numeric(citedByCount)))+
geom_point(size=1)+
geom_smooth(method='lm',formula=y~x)+
xlab("date")+ylab("count of citing articles")+scale_y_log10()+
coord_cartesian(xlim = as.Date(c('2005-01-01', '2019-01-01')))
plotArticlesByPagerank_DateCitedBy
figure1pg = plot_grid(plotArticlesByJournal_Count,
plot_grid(plotArticlesByPagerank_Date, plotArticlesByPagerank_DateCitedBy, labels=c("B","C"), ncol=1),
labels=c("A",NA), ncol=2)
saveThesisHalfPage("~/Dropbox/litReview/output/figure1", figure1pg)
plotArticlesByJournal_Count <- ggplot(getArticlesByJournal %>% top_n(10,totalPagerank)
%>% mutate(journal = str_trunc(journal,25)
))+
geom_bar(aes(x=reorder(journal,-totalPagerank),y=articles, fill=journal), colour="black", stat="identity")+
xlab("journal")+ylab("articles")+scale_fill_brewer(palette = "Set3")+
theme(axis.text.x = element_text(angle = 60, hjust = 1,size=8))+
guides(fill=FALSE)
plotArticlesByJournal_Count
# plotArticlesByPagerank_Pagerank <- ggplot(getArticlesByPagerank)+
#   geom_density(aes(x=pagerank))+
#   xlab("page rank")
# plotArticlesByPagerank_Pagerank
plotArticlesByPagerank_Date <- ggplot(getArticlesByPagerank %>%
filter(!is.na(date)) %>%
group_by(month=floor_date(as.Date(date), "year")) %>%
summarize(amount=n()))+
geom_col(aes(x=month,y=amount),stat="identity")+
xlab("year")+ylab("articles")
plotArticlesByPagerank_Date
plotArticlesByPagerank_DateCitedBy <- ggplot(getArticlesByPagerank %>%
filter(citedByCount!="NULL") ,
aes(x=as.Date(date),y=as.numeric(citedByCount)))+
geom_point(size=1)+
geom_smooth(method='lm',formula=y~x)+
xlab("date")+ylab("citation count")+scale_y_log10()+
coord_cartesian(xlim = as.Date(c('2005-01-01', '2019-01-01')))
plotArticlesByPagerank_DateCitedBy
figure1pg = plot_grid(plotArticlesByJournal_Count,
plot_grid(plotArticlesByPagerank_Date, plotArticlesByPagerank_DateCitedBy, labels=c("B","C"), ncol=1),
labels=c("A",NA), ncol=2)
saveThesisHalfPage("~/Dropbox/litReview/output/figure1", figure1pg)
plotArticlesByJournal_Count <- ggplot(getArticlesByJournal %>% top_n(10,totalPagerank)
%>% mutate(journal = str_trunc(journal,35)
))+
geom_bar(aes(x=reorder(journal,-totalPagerank),y=articles, fill=journal), colour="black", stat="identity")+
xlab("journal")+ylab("articles")+scale_fill_brewer(palette = "Set3")+
theme(axis.text.x = element_text(angle = 70, hjust = 1,size=8))+
guides(fill=FALSE)
plotArticlesByJournal_Count
figure1pg = plot_grid(plotArticlesByJournal_Count,
plot_grid(plotArticlesByPagerank_Date, plotArticlesByPagerank_DateCitedBy, labels=c("B","C"), ncol=1),
labels=c("A",NA), ncol=2)
saveThesisHalfPage("~/Dropbox/litReview/output/figure1", figure1pg)
top10articles<-getArticlesByPagerank %>% top_n(10, pagerank) %>%
select(reference = node,pagerank) %>%
mutate(reference = sub("\\[[0-9]+\\]","",reference))
View(top10articles)
top10articles %>% saveTable("~/Dropbox/litReview/output/top10Refs")
iconv("U. Özlem, “2010 i2b2/VA challenge on concepts, assertions, and relations in clinical text,” Journal of the American Medical Informatics Association, Jun. 2011.", to=latin1)
iconv("U. Özlem, “2010 i2b2/VA challenge on concepts, assertions, and relations in clinical text,” Journal of the American Medical Informatics Association, Jun. 2011.", to="latin1")
?iconv
x <- "U. Özlem, “2010 i2b2/VA challenge on concepts, assertions, and relations in clinical text,” Journal of the American Medical Informatics Association, Jun. 2011."
iconv(x, to="latin1")
x
iconv(x, to="latin1")
x
Encoding(x)
x <- iconv(x, to="latin1")
Encoding(x)
x
x <- "U. Özlem, “2010 i2b2/VA challenge on concepts, assertions, and relations in clinical text,” Journal of the American Medical Informatics Association, Jun. 2011."
x <- iconv(x, from="UTF-8", to="latin1")
Encoding(x)
x
iconvList()
iconvlist()
x <- "U. Özlem, “2010 i2b2/VA challenge on concepts, assertions, and relations in clinical text,” Journal of the American Medical Informatics Association, Jun. 2011."
x <- iconv(x, from="UTF-8", to="LATIN1")
x
remove.packages(webshot)
remove.packages("webshot")
library(webshot)
devtools::install_github("rstudio/webshot2")
?later
??later
install.packages("later")
devtools::install_github("rstudio/webshot2")
devtools::install_github("r-lib/later")
devtools::install_github("rstudio/webshot2")
devtools::install_github("rstudio/promises")
devtools::install_github("rstudio/webshot2")
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
top10articles %>% saveTable("~/Dropbox/litReview/output/top10Refs")
top10articles %>% saveTable("~/Dropbox/litReview/output/top10Refs")
library(webshot2)
getwd()
webshot("https://www.r-project.org")
webshot("iris.html")
?webshot
webshot("iris.html", file="iris2.pdf")
webshot(url="iris.html", file="iris2.pdf",vwidth=5.9*72)
webshot(url="iris.html", file="iris2.pdf")
webshot(url="iris.html", file="iris2.png",vwidth=5.9*72)
webshot(url="iris.html", file="iris2.png",vwidth=as.integer(5.9*72))
webshot(url="iris.html", file="iris2.pdf",vwidth=as.integer(5.9*72))
webshot(url="iris.html", file="iris2.pdf",vwidth=as.integer(5.9*72))
remove.packages("webshot2")
install.packages("webshot")
install.packages("webshot")
library(devtools)
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
top10articles %>% saveTable("~/Dropbox/litReview/output/top10Refs")
?saveTable
top10articles %>% saveTable("~/Dropbox/litReview/output/top10Refs",colWidths=c(0.8,0.2))
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
top10articles %>% saveTable("~/Dropbox/litReview/output/top10Refs",colWidths=c(0.8,0.2))
top10CitedArticles<-getArticlesByPagerank %>%
mutate(citedByCount = as.numeric(citedByCount)) %>% top_n(10, citedByCount) %>%
arrange(desc(citedByCount)) %>%
select(reference = node,citedByCount) %>%
mutate(reference = sub("\\[[0-9]+\\]","",reference))
top10CitedArticles %>% mergeCells() %>%
set_col_width(c(.8, .2)) %>%
set_number_format(everywhere,2,0) %>%
saveTable("~/Dropbox/litReview/output/top10CitedRefs",colWidths=c(0.8,0.2))
top10CitedArticles %>% mergeCells() %>%
set_col_width(c(.8, .2)) %>%
set_number_format(everywhere,2,0) %>%
saveTable("~/Dropbox/litReview/output/top10CitedRefs")
top10CitedArticles %>% mergeCells() %>%
set_number_format(everywhere,2,0) %>%
saveTable("~/Dropbox/litReview/output/top10CitedRefs")
top5ByTopic <- getTopicDocuments %>% left_join(getArticlesByPagerank, by="nodeId") %>% group_by(topic) %>%
top_n(5,weight) %>%
mutate(reference = sub("\\[[0-9]+\\]","",node)) %>%
select(topic,reference,weight)
top5ByTopic %>% mergeCells() %>%
set_align(1, 3, 'right') %>%
set_align(everywhere, 1, 'left') %>%
set_col_width(c(.1, .7, .2)) %>%
saveTable("~/Dropbox/litReview/output/top5RefsByTopic.html")
?normalizePath
source('~/Git/etl-analysis/r-packages/personalLibrary.R')
top5ByTopic %>% mergeCells() %>%
set_align(1, 3, 'right') %>%
set_align(everywhere, 1, 'left') %>%
set_col_width(c(.1, .7, .2)) %>%
saveTable("~/Dropbox/litReview/output/top5RefsByTopic.html")
?mergeCells
?saveTabl
?saveTable
library(tidyverse)
library(reshape2)
library(cowplot)
library(lubridate)
library(huxtable)
library(phdUtils)
?saveTable
top5ByTopic %>% mergeCells() %>%
set_align(1, 3, 'right') %>%
set_align(everywhere, 1, 'left') %>%
set_col_width(c(.1, .7, .2)) %>%
saveTable("~/Dropbox/litReview/output/top5RefsByTopic",defaultFontSize=8)
source('~/Git/working-drafts/literature-review/src/main/R/present.R')
top5ByTopic %>% mergeCells() %>%
set_align(1, 3, 'right') %>%
set_align(everywhere, 1, 'left') %>%
set_col_width(c(.1, .7, .2)) %>%
saveTable("~/Dropbox/litReview/output/top5RefsByTopic",defaultFontSize=8)
top5ByTopic %>% mergeCells() %>%
set_align(1, 3, 'right') %>%
set_align(everywhere, 1, 'left') %>%
set_col_width(c(.1, .7, .2)) %>%
set_font_size(everywhere,everywhere,8) %>%
saveTable("~/Dropbox/litReview/output/top5RefsByTopic")
top5ByAuthorCommunity <- getAuthorCommunityArticles %>%
mutate(authorCommunity=community) %>%
inner_join(getAuthorCommunityLabels, by="authorCommunity") %>%
mutate(nodeId=articleId, community=label) %>%
left_join(getArticlesByPagerank, by="nodeId") %>% group_by(community) %>%
mutate(pagerank = pagerank.x) %>%
top_n(5,pagerank) %>%
filter(row_number() < 6) %>%
arrange(desc(pagerank), .by_group = TRUE) %>%
mutate(reference = sub("\\[[0-9]+\\]","",node)) %>%
select(community,reference,pagerank)
top5ByAuthorCommunity %>% saveTable("~/Dropbox/litReview/output/top5RefsByAuthorCommunity.html",colWidths=c(.1, .7, .2),defaultFontSize=8)
top5ByArticleGroup <- getArticlesByPagerank %>%
mutate(articleGroup=articleCommunity) %>%
inner_join(getArticleGroupLabels, by="articleGroup") %>%
mutate(articleGroup = label) %>%
group_by(articleGroup) %>%
top_n(5,pagerank) %>%
filter(row_number() < 6) %>%
arrange(desc(pagerank), .by_group = TRUE) %>%
mutate(reference = sub("\\[[0-9]+\\]","",node)) %>%
select(articleGroup,reference,pagerank)
top5ByArticleGroup %>% saveTable("~/Dropbox/litReview/output/top5RefsByArticleGroup",colWidths=c(.1, .7, .2),defaultFontSize=8)
